{"ast":null,"code":"var _jsxFileName = \"C:\\\\Project_js\\\\THweb\\\\DKOnline\\\\BaiTapCuoiKi\\\\Frontend\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Login from './components/auth/Login';\nimport Register from './components/auth/Register';\nimport Dashboard from './pages/Dashboard';\nimport ApplicationForm from './components/application/ApplicationForm';\nimport ApplicationStatus from './components/application/ApplicationStatus';\nimport Results from './components/application/Results';\nimport './styles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [currentUser, setCurrentUser] = useState(null);\n  const [page, setPage] = useState('dashboard'); // Trang mặc định là 'dashboard'\n\n  // Kiểm tra trạng thái đăng nhập khi ứng dụng khởi động\n  useEffect(() => {\n    const user = localStorage.getItem('currentUser');\n    if (user) {\n      setCurrentUser(user); // Nếu đã đăng nhập, cập nhật currentUser\n    }\n    // Không setPage('login') ở đây để Dashboard hiển thị mặc định\n  }, []);\n\n  // Xử lý đăng xuất\n  useEffect(() => {\n    if (page === 'logout') {\n      setCurrentUser(null);\n      localStorage.removeItem('currentUser'); // Xóa thông tin người dùng\n      setPage('dashboard'); // Sau khi đăng xuất, quay về Dashboard thay vì Login\n    }\n  }, [page]);\n\n  // Danh sách các trang yêu cầu đăng nhập\n  const protectedPages = ['apply', 'status', 'results'];\n\n  // Nếu trang hiện tại yêu cầu đăng nhập và người dùng chưa đăng nhập, hiển thị trang Login\n  if (protectedPages.includes(page) && currentUser === null) {\n    return /*#__PURE__*/_jsxDEV(Login, {\n      setCurrentUser: setCurrentUser,\n      setPage: setPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Nếu người dùng chưa đăng nhập và chọn 'register', hiển thị trang Register\n  if (currentUser === null && page === 'register') {\n    return /*#__PURE__*/_jsxDEV(Register, {\n      setCurrentUser: setCurrentUser,\n      setPage: setPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Hiển thị trang tương ứng với giá trị của page\n  switch (page) {\n    case 'dashboard':\n      return /*#__PURE__*/_jsxDEV(Dashboard, {\n        currentUser: currentUser,\n        setPage: setPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 14\n      }, this);\n    case 'apply':\n      return /*#__PURE__*/_jsxDEV(ApplicationForm, {\n        setPage: setPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 14\n      }, this);\n    case 'status':\n      return /*#__PURE__*/_jsxDEV(ApplicationStatus, {\n        setPage: setPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 14\n      }, this);\n    case 'results':\n      return /*#__PURE__*/_jsxDEV(Results, {\n        setPage: setPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 14\n      }, this);\n    case 'login':\n      return /*#__PURE__*/_jsxDEV(Login, {\n        setCurrentUser: setCurrentUser,\n        setPage: setPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 14\n      }, this);\n    case 'register':\n      return /*#__PURE__*/_jsxDEV(Register, {\n        setCurrentUser: setCurrentUser,\n        setPage: setPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 14\n      }, this);\n    default:\n      return /*#__PURE__*/_jsxDEV(Dashboard, {\n        currentUser: currentUser,\n        setPage: setPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 14\n      }, this);\n  }\n};\n_s(App, \"gb3L7WXnI3AxIS6Ytao9ByJ71dg=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Login","Register","Dashboard","ApplicationForm","ApplicationStatus","Results","jsxDEV","_jsxDEV","App","_s","currentUser","setCurrentUser","page","setPage","user","localStorage","getItem","removeItem","protectedPages","includes","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Project_js/THweb/DKOnline/BaiTapCuoiKi/Frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Login from './components/auth/Login';\r\nimport Register from './components/auth/Register';\r\nimport Dashboard from './pages/Dashboard';\r\nimport ApplicationForm from './components/application/ApplicationForm';\r\nimport ApplicationStatus from './components/application/ApplicationStatus';\r\nimport Results from './components/application/Results';\r\nimport './styles.css';\r\n\r\nconst App: React.FC = () => {\r\n  const [currentUser, setCurrentUser] = useState<string | null>(null);\r\n  const [page, setPage] = useState('dashboard'); // Trang mặc định là 'dashboard'\r\n\r\n  // Kiểm tra trạng thái đăng nhập khi ứng dụng khởi động\r\n  useEffect(() => {\r\n    const user = localStorage.getItem('currentUser');\r\n    if (user) {\r\n      setCurrentUser(user); // Nếu đã đăng nhập, cập nhật currentUser\r\n    }\r\n    // Không setPage('login') ở đây để Dashboard hiển thị mặc định\r\n  }, []);\r\n\r\n  // Xử lý đăng xuất\r\n  useEffect(() => {\r\n    if (page === 'logout') {\r\n      setCurrentUser(null);\r\n      localStorage.removeItem('currentUser'); // Xóa thông tin người dùng\r\n      setPage('dashboard'); // Sau khi đăng xuất, quay về Dashboard thay vì Login\r\n    }\r\n  }, [page]);\r\n\r\n  // Danh sách các trang yêu cầu đăng nhập\r\n  const protectedPages = ['apply', 'status', 'results'];\r\n\r\n  // Nếu trang hiện tại yêu cầu đăng nhập và người dùng chưa đăng nhập, hiển thị trang Login\r\n  if (protectedPages.includes(page) && currentUser === null) {\r\n    return <Login setCurrentUser={setCurrentUser} setPage={setPage} />;\r\n  }\r\n\r\n  // Nếu người dùng chưa đăng nhập và chọn 'register', hiển thị trang Register\r\n  if (currentUser === null && page === 'register') {\r\n    return <Register setCurrentUser={setCurrentUser} setPage={setPage} />;\r\n  }\r\n\r\n  // Hiển thị trang tương ứng với giá trị của page\r\n  switch (page) {\r\n    case 'dashboard':\r\n      return <Dashboard currentUser={currentUser} setPage={setPage} />;\r\n    case 'apply':\r\n      return <ApplicationForm setPage={setPage} />;\r\n    case 'status':\r\n      return <ApplicationStatus setPage={setPage} />;\r\n    case 'results':\r\n      return <Results setPage={setPage} />;\r\n    case 'login':\r\n      return <Login setCurrentUser={setCurrentUser} setPage={setPage} />;\r\n    case 'register':\r\n      return <Register setCurrentUser={setCurrentUser} setPage={setPage} />;\r\n    default:\r\n      return <Dashboard currentUser={currentUser} setPage={setPage} />;\r\n  }\r\n};\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}